name: "Issue Agent"
description: "Runs the autonomous issue agent"

inputs:
  src:
    description: "Source paths to analyze"
    required: true
  provider:
    description: "LLM provider (e.g., deepseek)"
    required: true
  model_name:
    description: "LLM model name"
    required: true
  api_key:
    description: "API key for the LLM"
    required: true
  api_base:
    description: "Optional base URL for the LLM"
    required: false
    default: ""
  skip_yaml:
    description: "Skip YAML config loading (true/false)"
    required: false
    default: "true"

runs:
  using: "docker"
  image: "Dockerfile"
  args:
    - "--src=${{ inputs.src }}"
    - "--provider=${{ inputs.provider }}"
    - "--model_name=${{ inputs.model_name }}"
    - "--api_key=${{ inputs.api_key }}"
    - "--api_base=${{ inputs.api_base }}"
    - "--skip-yaml=${{ inputs.skip_yaml }}"
