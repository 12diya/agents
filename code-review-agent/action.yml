name: "AI Code Review Agent"
description: "Run GenAI-powered code reviews using a Python-based CLI"
author: "Manav Khandurie"

inputs:
  config-path:
    description: "Path to the YAML config file"
    required: true
    default: "ai-reviewer.yaml"
  score-threshold:
    description: "Override score threshold"
    required: false

runs:
  using: "docker"
  image: "Dockerfile"
  args:
    - "--config"
    - "${{ inputs.config-path }}"
  env:
    DEEPSEEK_API_KEY: ${{ inputs.DEEPSEEK_API_KEY }}
    AWS_ACCESS_KEY_ID: ${{ inputs.AWS_ACCESS_KEY_ID }}
    AWS_SECRET_ACCESS_KEY: ${{ inputs.AWS_SECRET_ACCESS_KEY }}
    AWS_REGION: ${{ inputs.AWS_REGION }}